---
import { getLangFromUrl, useTranslations } from "@/i18n/utils";
import CertificateList from "./CertificateList";
import { getCertificatesPaginated } from "@/actions/portfolio/get-certificates-paginated";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const { data, error } = await Astro.callAction(getCertificatesPaginated, {
    limit: 10,
    offset: 0,
});

if (error) {
    console.log(error);
} else {
    console.log(data);
}
---

<section class="py-10 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
    <p class="text-2xl font-bold text-gray-900 dark:text-white mb-6">
        {t("certifications.title")}
    </p>

    <CertificateList lang={lang} client:only="react" />
</section>
